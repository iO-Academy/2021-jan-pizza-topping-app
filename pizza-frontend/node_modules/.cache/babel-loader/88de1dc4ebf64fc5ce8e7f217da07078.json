{"ast":null,"code":"var _jsxFileName = \"/Users/ioacademy/sites/academyServer/html/pizza-app/2021-jan-pizza-topping-app/pizza-frontend/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst shuffle = require('shuffle-array');\n\nclass PizzasApi extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setShuffleArray = () => {\n      this.setState({\n        shuffleArray: shuffle(this.state.pizzaObjectArray)\n      });\n    };\n\n    this.populateResults = () => {\n      this.setState({\n        pizzaObjectArray: this.state.apiResponse.arrayOfPizzas\n      });\n      this.setShuffleArray();\n    };\n\n    this.state = {\n      apiResponse: [],\n      clickCounter: -1,\n      results: [],\n      pizzaObjectArray: []\n    };\n    this.callApi();\n  }\n\n  callApi() {\n    fetch('http://localhost:3001/').then(res => res.json()).then(res => {\n      this.setState({\n        apiResponse: res\n      });\n      console.log(this.state.apiResponse);\n      this.populateResults();\n    }).catch(err => err);\n  }\n\n  render() {\n    console.log(this.state.pizzaObjectArray[0]);\n\n    if (\"shuffleArray\" in this.state) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.shuffleArray.slice(0, 2).map(pizza => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" \", pizza.toppingsname, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: pizza.toppingsimg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 32\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 23\n      }, this);\n    }\n  }\n\n}\n\nexport default PizzasApi;","map":{"version":3,"sources":["/Users/ioacademy/sites/academyServer/html/pizza-app/2021-jan-pizza-topping-app/pizza-frontend/src/App.js"],"names":["React","shuffle","require","PizzasApi","Component","constructor","props","setShuffleArray","setState","shuffleArray","state","pizzaObjectArray","populateResults","apiResponse","arrayOfPizzas","clickCounter","results","callApi","fetch","then","res","json","console","log","catch","err","render","slice","map","pizza","toppingsname","toppingsimg"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,eAAD,CAAvB;;AAGA,MAAMC,SAAN,SAAwBH,KAAK,CAACI,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAwBnBC,eAxBmB,GAwBD,MAAM;AACpB,WAAKC,QAAL,CAAc;AACNC,QAAAA,YAAY,EAAER,OAAO,CAAC,KAAKS,KAAL,CAAWC,gBAAZ;AADf,OAAd;AAIH,KA7BkB;;AAAA,SA+BnBC,eA/BmB,GA+BD,MAAM;AACpB,WAAKJ,QAAL,CAAc;AACVG,QAAAA,gBAAgB,EAAE,KAAKD,KAAL,CAAWG,WAAX,CAAuBC;AAD/B,OAAd;AAGA,WAAKP,eAAL;AACH,KApCkB;;AAEf,SAAKG,KAAL,GAAa;AACTG,MAAAA,WAAW,EAAE,EADJ;AAETE,MAAAA,YAAY,EAAE,CAAC,CAFN;AAGTC,MAAAA,OAAO,EAAE,EAHA;AAITL,MAAAA,gBAAgB,EAAE;AAJT,KAAb;AAMA,SAAKM,OAAL;AACH;;AAEDA,EAAAA,OAAO,GAAG;AACNC,IAAAA,KAAK,CAAC,wBAAD,CAAL,CACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUC,GAAG,IAAI;AACT,WAAKZ,QAAL,CAAc;AACVK,QAAAA,WAAW,EAAEO;AADH,OAAd;AAGAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWG,WAAvB;AACA,WAAKD,eAAL;AACH,KARL,EASKY,KATL,CASWC,GAAG,IAAIA,GATlB;AAUH;;AAgBDC,EAAAA,MAAM,GAAE;AACJJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWC,gBAAX,CAA4B,CAA5B,CAAZ;;AACA,QAAG,kBAAkB,KAAKD,KAA1B,EACA;AAAC,0BACG;AAAA,kBACK,KAAKA,KAAL,CAAWD,YAAX,CAAwBkB,KAAxB,CAA8B,CAA9B,EAAiC,CAAjC,EAAoCC,GAApC,CAAwCC,KAAK,IAAI;AAC9C,8BACI;AAAA,oCACI;AAAA,8BAAKA,KAAK,CAACC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAA,sCAAG;AAAK,gBAAA,GAAG,EAAED,KAAK,CAACE;AAAhB;AAAA;AAAA;AAAA;AAAA,sBAAH;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ;AAMH,SAPA;AADL;AAAA;AAAA;AAAA;AAAA,cADH;AAWC,KAZF,MAaK;AAAE,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AAAqB;AAC/B;;AAvDmC;;AA4DxC,eAAe5B,SAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nconst shuffle = require('shuffle-array')\n\n\nclass PizzasApi extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            apiResponse: [],\n            clickCounter: -1,\n            results: [],\n            pizzaObjectArray: []\n        };\n        this.callApi()\n    }\n\n    callApi() {\n        fetch('http://localhost:3001/')\n            .then(res => res.json())\n            .then(res => {\n                this.setState({\n                    apiResponse: res\n                })\n                console.log(this.state.apiResponse)\n                this.populateResults()\n            })\n            .catch(err => err);\n    }\n\n    setShuffleArray = () => {\n        this.setState({\n                shuffleArray: shuffle(this.state.pizzaObjectArray),\n            }\n        )\n    }\n\n    populateResults = () => {\n        this.setState({\n            pizzaObjectArray: this.state.apiResponse.arrayOfPizzas\n        })\n        this.setShuffleArray()\n    }\n\n    render(){\n        console.log(this.state.pizzaObjectArray[0])\n        if(\"shuffleArray\" in this.state)\n        {return(\n            <div>\n                {this.state.shuffleArray.slice(0, 2).map(pizza => {\n                    return(\n                        <div>\n                            <p> {pizza.toppingsname} </p>\n                            <p><img src={pizza.toppingsimg} /> </p>\n                        </div>\n                    )\n                })}\n            </div>\n        )}\n        else { return <div> </div> }\n    }\n}\n\n\n\nexport default PizzasApi;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}